### 1. Что изменилось по сравнению с предыдущей схемой (Схема Гагарин А.Ю.drawio)

1. **Auth / User**
   - Выделен отдельный **User Service** для хранения профилей и ролей (RBAC).
   - **Auth Service** теперь отвечает только за аутентификацию и выдачу токенов.

2. **File Service**
   - Добавлен сервис для работы с файлами.
   - Поддержка проверки на вирусы и хранение в объектном хранилище (S3/MinIO).

3. **Comment Service**
   - Добавлен сервис для переписки по заявкам (онлайн-чат/комментарии).
   - Публикует события в Kafka.

4. **Request Service**
   - Теперь публикует события (создание/изменение статуса) в Kafka.
   - CQRS обозначен как опциональный (можно убрать для MVP).

5. **Notification Service**
   - Ранее — синхронные вызовы.
   - Теперь — подписка на Kafka, масштабируемые Notification Workers.

6. **Reporting Service**
   - Новый сервис для анализа SLA и дисциплины выполнения.
   - Получает данные из Request DB, Kafka и Monitoring.

7. **Monitoring & Logging**
   - Добавлены системы сбора метрик и логов для всех сервисов.

8. **Admin Panel**
   - Теперь работает через API Gateway.
   - Имеет доступ к User Service и Reporting Service, а не только к заявкам.

9. **Rate Limiter**
   - Добавлен перед API Gateway для защиты от перегрузок и DDoS.

10. **Связи**
   - Сервисы общаются через Kafka для событий, вместо прямых вызовов.
   - File Service теперь доступен через API Gateway для пользователей.
   - Reporting Service связан не только с Monitoring, но и с Request DB/Kafka.
   - Admin Panel имеет более широкую интеграцию (Users, Requests, Reports).

---